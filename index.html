<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PumpWolf Dashboard ‚Äî Cyber Meme Utility</title>

  <!-- SOCIAL META (preview banner) -->
  <meta name="description" content="PumpWolf Dashboard ‚Äî Cyber Meme Utility tracking clean Solana gems in real time." />
  <meta property="og:title" content="üê∫ PumpWolf Dashboard ‚Äî Live Token Feed" />
  <meta property="og:description" content="Cyber Meme Utility for Solana Gem Hunters. Track clean tokens, live data, and community howls." />
  <meta property="og:image" content="https://raw.githubusercontent.com/3disutisna-afk/pumpwolf/main/assets/pumpwolf_banner.jpg" />
  <meta property="og:url" content="https://3disutisna-afk.github.io/pumpwolf/" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="üê∫ PumpWolf Dashboard ‚Äî Cyber Meme Utility" />
  <meta name="twitter:description" content="Track early Solana gems with PumpWolf HQ ‚Äî powered by Moralis API (proxy)." />
  <meta name="twitter:image" content="https://raw.githubusercontent.com/3disutisna-afk/pumpwolf/main/assets/pumpwolf_banner.jpg" />

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root{
      --bg:#030406; --card:#071018; --neon:#00f0ff; --accent:#8a2be2; --muted:#9bb;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Inter,system-ui,sans-serif;background:radial-gradient(circle at 10% 10%,#02030a 0%,var(--bg) 60%);color:#dff}
    header{padding:18px 16px;display:flex;align-items:center;gap:12px;border-bottom:1px solid rgba(0,255,255,0.05)}
    header .logo{width:52px;height:52px;border-radius:10px;background:radial-gradient(circle at 30% 30%,#002,#013);display:flex;align-items:center;justify-content:center;box-shadow:0 0 18px rgba(0,240,255,0.1);font-weight:700}
    header h1{margin:0;font-size:1.05rem;color:var(--neon)} .muted{color:var(--muted);font-size:0.9rem}
    .layout{display:flex;gap:16px;padding:16px;align-items:flex-start}
    .col-left{width:280px;min-width:240px} .col-main{flex:1}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(255,255,255,0.015));border:1px solid rgba(0,240,255,0.06);border-radius:12px;padding:14px;margin-bottom:14px;box-shadow:0 6px 24px rgba(0,0,0,0.45)}
    .btn{background:linear-gradient(90deg,var(--neon),var(--accent));border:none;color:#001;padding:8px 12px;border-radius:10px;font-weight:700;cursor:pointer;text-decoration:none;display:inline-block}
    .small{padding:6px 10px;font-size:0.85rem} .tiny{font-size:0.82rem;color:var(--muted)}
    .token-list{display:flex;flex-direction:column;gap:10px;max-height:65vh;overflow:auto;padding-right:6px}
    .token{display:flex;justify-content:space-between;align-items:center;gap:10px;padding:10px;border-radius:10px;background:linear-gradient(90deg,rgba(0,0,0,0.16),rgba(0,0,0,0.06));border:1px solid rgba(0,240,255,0.03);transition:transform .18s ease,box-shadow .18s ease}
    .token:hover{transform:translateY(-3px);box-shadow:0 8px 20px rgba(0,240,255,0.06)}
    footer{text-align:center;padding:14px 20px;color:var(--muted);font-size:0.85rem}
    .howl-bar{height:10px;border-radius:8px;background:rgba(255,255,255,0.03);overflow:hidden;margin-top:8px;box-shadow:inset 0 0 6px rgba(0,240,255,0.08)}
    .howl-bar .fill{height:100%;width:0%;background:linear-gradient(90deg,#00f0ff,#8a2be2);animation:howlGrow 3s ease-in-out infinite alternate}
    @keyframes howlGrow{0%{width:40%}100%{width:90%}}
    @media(max-width:900px){.layout{flex-direction:column;padding:12px}.col-left{width:100%}.col-main{width:100%}}
    @media(max-width:500px){header .logo{width:46px;height:46px} header h1{font-size:1rem} .card{padding:10px}}
    /* modal basic style override */
    .pw-modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:9999;backdrop-filter:blur(6px) saturate(120%)}
    .pw-modal.open{display:flex}
 <!-- Fallback banner CSS -->
  .pw-fallback {
    display:none;
    position:fixed;
    inset:12px 12px auto 12px;
    z-index:99999;
    background: linear-gradient(90deg, rgba(6,8,16,0.98), rgba(3,5,12,0.98));
    color:#dff;
    border:1px solid rgba(0,240,255,0.08);
    padding:12px 14px;
    border-radius:12px;
    box-shadow: 0 18px 60px rgba(0,0,0,0.6);
    max-width:calc(100% - 40px);
    display:flex;
    gap:12px;
    align-items:center;
    justify-content:space-between;
    font-family: Inter, system-ui, sans-serif;
  }
  .pw-fallback .left { display:flex; gap:10px; align-items:center; max-width:70%; }
  .pw-fallback .left .dot { width:12px;height:12px;border-radius:50%;background: #ff6b6b; box-shadow:0 0 12px rgba(255,107,107,0.12); }
  .pw-fallback .title { font-weight:700; color:var(--neon); font-size:0.98rem }
  .pw-fallback .desc { font-size:0.9rem; color:var(--muted); margin-top:4px }
  .pw-fallback .actions { display:flex; gap:8px; align-items:center }
  .pw-fallback .btn { background:linear-gradient(90deg,var(--neon),var(--accent)); color:#001; padding:8px 10px; border-radius:10px; font-weight:700; text-decoration:none; border:none; cursor:pointer; }
  .pw-fallback .btn.secondary { background:transparent; border:1px solid rgba(255,255,255,0.03); color:var(--muted); padding:8px 10px; }
  .pw-fallback .count { color:var(--muted); font-size:0.9rem; margin-left:6px }
  @media(max-width:720px){
    .pw-fallback { flex-direction:column; align-items:flex-start; gap:8px; left:12px; right:12px; }
    .pw-fallback .left { max-width:100%; }
    .pw-fallback .actions { width:100%; justify-content:space-between; }
  }
  </style>
</head>
<body>
<!-- Fallback notice (place at top of <body>) -->
<div id="pwFallback" class="pw-fallback" role="alert" aria-live="polite">
  <div class="left">
    <div class="dot" aria-hidden="true"></div>
    <div>
      <div class="title">Mode statis: fitur server tidak aktif di GitHub Pages</div>
      <div class="desc">Proxy/API backend tidak tersedia di versi statis. Untuk experience penuh (live data & fungsi), buka versi lengkap.</div>
    </div>
  </div>

  <div class="actions">
    <a id="openVercel" class="btn" href="https://pumpwolf.vercel.app/" target="_blank" rel="noopener">Buka versi penuh</a>
    <button id="stayBtn" class="btn secondary" type="button">Tetap di sini</button>
    <div style="display:flex;align-items:center"><span class="count" id="redirectCountdown">‚Ü™ otomatis pindah dalam 8s</span></div>
  </div>
</div>
<header>
  <div class="logo">PW</div>
  <div>
    <h1>PumpWolf Dashboard</h1>
    <div class="muted">Cyber Meme Utility ‚Äî Wolf Pack Live üê∫</div>
  </div>
</header>

<div class="layout">
  <aside class="col-left">
    <div class="card">
      <div class="muted">API Status</div>
      <div id="api-status" style="color:var(--neon);margin-top:6px">Proxy: ready</div>
      <div class="muted" style="margin-top:8px">Last update: <span id="last-update">‚Äî</span></div>
    </div>

    <div class="card">
      <div class="muted">Controls</div>
      <div style="margin-top:10px;display:flex;gap:8px;flex-wrap:wrap">
        <button class="btn small" id="refreshBtn">Refresh</button>
        <button class="btn small" id="pauseBtn">Pause</button>
      </div>
    </div>
  </aside>

  <main class="col-main">
    <!-- Featured Token -->
    <div class="card" id="featuredToken">
      <div style="display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap">
        <div>
          <div class="muted" style="font-size:0.9rem">üî• Featured Token</div>
          <h2 style="color:var(--neon);margin:6px 0" id="featuredTitle">$WOLF ‚Äî The Cyber Meme Wolf</h2>
          <div class="tiny" id="wolfData">Loading live data...</div>
        </div>
        <img id="featuredLogo" src="https://raw.githubusercontent.com/3disutisna-afk/pumpwolf/main/assets/wolf_logo.png" alt="$WOLF" style="width:60px;height:60px;border-radius:12px;box-shadow:0 0 18px rgba(0,240,255,0.25);margin-top:6px">
      </div>

      <div class="howl-bar" style="margin-top:10px"><div class="fill" id="howlFill"></div></div>

      <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">
        <a id="btnBuy" class="btn small" href="#" target="_blank">üíß Buy on Pump.fun</a>
        <a id="btnSolscan" class="btn small" href="#" target="_blank">üîé Solscan</a>
      </div>
    </div>

    <div class="card">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;flex-wrap:wrap">
        <div><b style="color:var(--neon)">Live Tokens</b> <span class="muted">‚Äî auto-updated from Moralis (via proxy)</span></div>
        <div class="muted" style="font-size:0.85rem">Refresh: <span id="interval-label">60s</span></div>
      </div>

      <div id="tokenContainer" class="token-list">
        <!-- tokens will be injected here -->
      </div>
    </div>
  </main>
</div>

<footer>¬© 2025 PumpWolf ‚Äî The Cyber Pack ‚Ä¢ v2.2</footer>

<!-- ================= SCRIPT ================= -->
<script>
/*
  index.html (proxy-ready)
  - This page expects a serverless proxy at /api/proxy/... which adds the Moralis key server-side.
  - Do NOT add Moralis API key here.
  - After token launch: set FEATURED_TOKEN_ADDRESS to your token address.
*/

const ENDPOINT = "/api/proxy/token/mainnet/exchange/pumpfun/new?limit=100"; // proxy path
const FEATURE_PRICE_URL = (addr) => `/api/proxy/token/mainnet/${addr}/price`; // proxy path for featured price
const FEATURED_TOKEN_ADDRESS = "YOUR_TOKEN_ADDRESS"; // <-- replace after launch
const POLL_INTERVAL = 60000;
const MIN_LIQUIDITY = 5000;

const apiStatusEl = document.getElementById('api-status');
const lastUpdateEl = document.getElementById('last-update');
const tokenContainer = document.getElementById('tokenContainer');

// store tokens by address
window.tokenMap = {};

// fetch token list via proxy
async function fetchTokens(){
  apiStatusEl.textContent = 'Fetching...';
  try{
    const res = await fetch(ENDPOINT, { headers: { "accept": "application/json" }});
    if (!res.ok) {
      apiStatusEl.textContent = `Proxy: error ${res.status}`;
      tokenContainer.innerHTML = `<div class="tiny">Moralis proxy returned ${res.status}</div>`;
      lastUpdateEl.textContent = new Date().toLocaleTimeString();
      return;
    }
    const data = await res.json();
    const items = Array.isArray(data.result) ? data.result : [];
    const filtered = items.filter(it => Number(it.liquidity || 0) >= MIN_LIQUIDITY);

    tokenContainer.innerHTML = '';
    window.tokenMap = {};

    if (!filtered.length) {
      tokenContainer.innerHTML = `<div class="tiny">No tokens passed liquidity filter (>= ${MIN_LIQUIDITY}).</div>`;
    } else {
      filtered.forEach(it => {
        const addr = it.tokenAddress || it.address || ('addr_' + Math.random().toString(36).slice(2,9));
        window.tokenMap[addr] = it;

        const div = document.createElement('div');
        div.className = 'token';
        div.dataset.addr = addr;

        const liquidity = Number(it.liquidity || 0);
        const fdv = Number(it.fullyDilutedValuation || it.fdv || 0);
        const createdAt = it.createdAt ? new Date(it.createdAt).toLocaleTimeString() : '‚Äî';

        div.innerHTML = `
          <div>
            <div><b style="color:var(--neon)">${it.symbol || '?'}</b> ‚Äî ${it.name || 'Unnamed'}</div>
            <div class="tiny">üíß $${isFinite(liquidity) ? liquidity.toLocaleString() : '‚Äî'} ‚Ä¢ üßÆ FDV: $${isFinite(fdv) ? fdv.toLocaleString() : '‚Äî'}</div>
          </div>
          <div class="tiny">${createdAt}</div>
        `;
        tokenContainer.appendChild(div);
      });
    }

    apiStatusEl.textContent = 'Proxy: OK';
    lastUpdateEl.textContent = new Date().toLocaleTimeString();
  } catch (err) {
    console.error(err);
    apiStatusEl.textContent = 'Proxy: error';
    tokenContainer.innerHTML = `<div class="tiny">Network error ‚Äî check proxy & console.</div>`;
    lastUpdateEl.textContent = new Date().toLocaleTimeString();
  }
}

// delegated click -> modal (create once)
(function setupTokenModal() {
  let modal = document.createElement('div');
  modal.className = 'pw-modal';
  modal.style.position = 'fixed';
  modal.style.inset = '0';
  modal.style.display = 'none';
  modal.style.alignItems = 'center';
  modal.style.justifyContent = 'center';
  modal.style.zIndex = 9999;
  modal.style.backdropFilter = 'blur(6px) saturate(120%)';
  modal.innerHTML = `
    <div style="width:min(720px,94%);max-height:86vh;overflow:auto;padding:18px;border-radius:12px;background:linear-gradient(135deg, rgba(2,6,10,0.96), rgba(6,8,16,0.99));border:1px solid rgba(0,240,255,0.06);box-shadow:0 30px 80px rgba(0,0,0,0.7);color:#dff">
      <button class="closeBtn" style="float:right;background:transparent;border:0;color:#9fe;font-size:20px;cursor:pointer">‚úï</button>
      <div style="display:flex;gap:12px;align-items:center;">
        <img id="mLogo" src="" style="width:64px;height:64px;border-radius:8px;object-fit:cover;box-shadow:0 0 20px rgba(0,240,255,0.08)"/>
        <div>
          <h2 id="mName" style="margin:0;color:var(--neon)"></h2>
          <div id="mSymbol" class="tiny" style="margin-top:6px"></div>
        </div>
      </div>
      <div id="mChartWrap" style="height:110px;margin-top:12px;background:linear-gradient(180deg, rgba(0,0,0,0.02), rgba(0,0,0,0.04));border-radius:8px;padding:8px;"></div>
      <div id="mDetails" style="display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:12px;"></div>
      <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end">
        <a id="mPump" class="btn small" target="_blank" style="text-decoration:none">Open on Pump.fun</a>
        <a id="mExplorer" class="btn small" target="_blank" style="text-decoration:none">Open on Explorer</a>
        <a id="mSolscan" class="btn small" target="_blank" style="text-decoration:none">Open on Solscan</a>
      </div>
    </div>
  `;
  document.body.appendChild(modal);

  modal.querySelector('.closeBtn').onclick = () => { modal.style.display = 'none'; };
  modal.addEventListener('click', (ev) => { if (ev.target === modal) modal.style.display = 'none'; });

  tokenContainer.addEventListener('click', (ev) => {
    const tokenEl = ev.target.closest('.token');
    if (!tokenEl) return;
    const addr = tokenEl.dataset.addr;
    if (!addr) return;
    const item = window.tokenMap[addr];
    if (!item) return;

    modal.style.display = 'flex';
    modal.querySelector('#mLogo').src = item.logo || ('https://logo.moralis.io/solana-mainnet_' + addr + '_placeholder.png');
    modal.querySelector('#mName').textContent = item.name || 'Unnamed';
    modal.querySelector('#mSymbol').textContent = (item.symbol || '‚Äî') + ' ‚Ä¢ ' + (addr ? (addr.slice(0,6) + '...') : '');

    const details = modal.querySelector('#mDetails');
    const price = item.priceUsd ? ('$' + Number(item.priceUsd).toLocaleString()) : '‚Äî';
    const liquidity = item.liquidity ? ('$' + Number(item.liquidity).toLocaleString()) : '‚Äî';
    const fdv = item.fullyDilutedValuation ? ('$' + Number(item.fullyDilutedValuation).toLocaleString()) : '‚Äî';
    const created = item.createdAt ? new Date(item.createdAt).toLocaleString() : '‚Äî';
    details.innerHTML = `
      <div style="background:rgba(255,255,255,0.01);padding:8px;border-radius:8px;border:1px solid rgba(0,240,255,0.03)">
        <div class="tiny">Price (USD)</div><div style="color:var(--neon);font-weight:700">${price}</div>
      </div>
      <div style="background:rgba(255,255,255,0.01);padding:8px;border-radius:8px;border:1px solid rgba(0,240,255,0.03)">
        <div class="tiny">Liquidity</div><div style="color:var(--neon);font-weight:700">${liquidity}</div>
      </div>
      <div style="background:rgba(255,255,255,0.01);padding:8px;border-radius:8px;border:1px solid rgba(0,240,255,0.03)">
        <div class="tiny">FDV</div><div style="color:var(--neon);font-weight:700">${fdv}</div>
      </div>
      <div style="background:rgba(255,255,255,0.01);padding:8px;border-radius:8px;border:1px solid rgba(0,240,255,0.03)">
        <div class="tiny">Created</div><div style="color:var(--neon);font-weight:700">${created}</div>
      </div>
    `;

    const pumpfunUrl = addr ? `https://pump.fun/coin/${addr}` : '#';
    const solanaExplorer = addr ? `https://explorer.solana.com/address/${encodeURIComponent(addr)}?cluster=mainnet` : '#';
    const solscanToken = addr ? `https://solscan.io/token/${encodeURIComponent(addr)}?cluster=mainnet` : '#';
    modal.querySelector('#mPump').href = pumpfunUrl;
    modal.querySelector('#mExplorer').href = solanaExplorer;
    modal.querySelector('#mSolscan').href = solscanToken;

    const chartWrap = modal.querySelector('#mChartWrap');
    chartWrap.innerHTML = '';
    const canvas = document.createElement('canvas');
    canvas.style.width = '100%';
    canvas.style.height = '100%';
    chartWrap.appendChild(canvas);
    const ctx = canvas.getContext('2d');
    const sparkData = (Array.isArray(item.price_history) && item.price_history.length) ? item.price_history.map(x=>Number(x)).slice(-40) : Array.from({length:20}, (_,i)=> (Number(item.priceUsd||0) || Math.random()*0.00001) * (1 + (Math.sin(i/3)*0.002 + (Math.random()-0.5)*0.01)));
    if (window._mChart) try{ window._mChart.destroy(); }catch(e){}
    window._mChart = new Chart(ctx, {
      type:'line',
      data:{ labels: sparkData.map((_,i)=>i), datasets:[{ data: sparkData, borderColor:'rgba(0,240,255,0.95)', borderWidth:1.6, pointRadius:0, fill:true, backgroundColor:'rgba(0,240,255,0.04)'}] },
      options:{ responsive:true, maintainAspectRatio:false, scales:{ x:{ display:false }, y:{ display:false } }, plugins:{ legend:{ display:false } } }
    });
  });
})();

// Featured token loader (uses proxy)
async function loadFeaturedToken() {
  const addr = FEATURED_TOKEN_ADDRESS || null;
  const titleEl = document.getElementById('featuredTitle');
  const wolfData = document.getElementById('wolfData');
  const logoEl = document.getElementById('featuredLogo');
  const buyBtn = document.getElementById('btnBuy');
  const solBtn = document.getElementById('btnSolscan');

  if (!addr || addr === "YOUR_TOKEN_ADDRESS") {
    wolfData.textContent = 'Featured token not set. Set FEATURED_TOKEN_ADDRESS in index.html after launch.';
    buyBtn.href = '#';
    solBtn.href = '#';
    return;
  }

  buyBtn.href = `https://pump.fun/coin/${addr}`;
  solBtn.href = `https://solscan.io/token/${encodeURIComponent(addr)}?cluster=mainnet`;

  try {
    const res = await fetch(FEATURE_PRICE_URL(addr), { headers: { "accept":"application/json" }});
    if (!res.ok) {
      wolfData.textContent = `No live price (status ${res.status})`;
      return;
    }
    const data = await res.json();
    if (data && data.usdPrice) {
      wolfData.innerHTML = `üí∞ Price: <b>$${Number(data.usdPrice).toFixed(6)}</b> ‚Ä¢ ‚è± ${new Date().toLocaleTimeString()}`;
      // gentle howl strength visual based on liquidity / fdv
      const liquidity = Number(data.liquidity || 0) || 0;
      const fdv = Number(data.fullyDilutedValuation || 0) || 0;
      const strength = Math.min(95, Math.round(Math.min(100, (liquidity / Math.max(1, fdv)) * 100 * 2)));
      document.getElementById('howlFill').style.width = Math.max(6, strength) + '%';
      logoEl.src = data.logo || logoEl.src;
    } else {
      wolfData.textContent = 'No price data';
    }
  } catch (err) {
    console.error(err);
    wolfData.textContent = 'Error loading featured data';
  }
}

// controls
const refreshBtn = document.getElementById('refreshBtn');
const pauseBtn = document.getElementById('pauseBtn');
let paused = false;
let pollHandle = null;
function startPolling(){ stopPolling(); pollHandle = setInterval(fetchTokens, POLL_INTERVAL); }
function stopPolling(){ if (pollHandle) clearInterval(pollHandle); pollHandle = null; }

refreshBtn.addEventListener('click', fetchTokens);
pauseBtn.addEventListener('click', () => {
  paused = !paused;
  pauseBtn.textContent = paused ? 'Resume' : 'Pause';
  if (!paused) startPolling(); else stopPolling();
});

// init
fetchTokens();
loadFeaturedToken();
startPolling();
<script>
/*
  Unified fallback script ‚Äî replace all fallback blocks with this one.
  Place this single script before </body>.
*/
(function(){
  const VERCEL_PROBE = 'https://pumpwolf.vercel.app/api/proxy/token/mainnet/exchange/pumpfun/new?limit=1';
  const REDIRECT_URL = 'https://pumpwolf.vercel.app/';
  const TIMEOUT_MS = 3500;
  const COUNTDOWN_SEC = 8;

  // ensure DOM ready
  function onReady(fn) {
    if (document.readyState === 'complete' || document.readyState === 'interactive') {
      setTimeout(fn, 0);
    } else {
      document.addEventListener('DOMContentLoaded', fn);
    }
  }

  // create banner if missing (re-uses existing #pwFallback if present)
  function ensureBanner() {
    let el = document.getElementById('pwFallback');
    if (el) return el;
    el = document.createElement('div');
    el.id = 'pwFallback';
    el.className = 'pw-fallback';
    el.style.display = 'none';
    el.innerHTML = `
      <div class="left">
        <div class="dot" aria-hidden="true"></div>
        <div>
          <div class="title">Mode statis: fitur server tidak aktif di GitHub Pages</div>
          <div class="desc">Proxy/API backend tidak tersedia di versi statis. Untuk experience penuh (live data & fungsi), buka versi lengkap.</div>
        </div>
      </div>
      <div class="actions">
        <a id="openVercel" class="btn" href="${REDIRECT_URL}" target="_blank" rel="noopener">Buka versi penuh</a>
        <button id="stayBtn" class="btn secondary" type="button">Tetap di sini</button>
        <div style="display:flex;align-items:center"><span class="count" id="redirectCountdown">‚Ü™ otomatis pindah dalam ${COUNTDOWN_SEC}s</span></div>
      </div>
    `;
    // minimal inline CSS fallback if not loaded
    if (!document.querySelector('style[data-pw-fallback]')) {
      const css = document.createElement('style');
      css.setAttribute('data-pw-fallback','1');
      css.textContent = `
        .pw-fallback{display:none;position:fixed;inset:12px 12px auto 12px;z-index:99999;background:linear-gradient(90deg,rgba(6,8,16,0.98),rgba(3,5,12,0.98));color:#dff;border:1px solid rgba(0,240,255,0.08);padding:12px 14px;border-radius:12px;box-shadow:0 18px 60px rgba(0,0,0,0.6);max-width:calc(100% - 40px);display:flex;gap:12px;align-items:center;justify-content:space-between;font-family:Inter,system-ui,sans-serif}
        .pw-fallback .left{display:flex;gap:10px;align-items:center;max-width:70%}
        .pw-fallback .dot{width:12px;height:12px;border-radius:50%;background:#ff6b6b;box-shadow:0 0 12px rgba(255,107,107,0.12)}
        .pw-fallback .title{font-weight:700;color:var(--neon);font-size:0.98rem}
        .pw-fallback .desc{font-size:0.9rem;color:var(--muted);margin-top:4px}
        .pw-fallback .actions{display:flex;gap:8px;align-items:center}
        .pw-fallback .btn{background:linear-gradient(90deg,var(--neon),var(--accent));color:#001;padding:8px 10px;border-radius:10px;font-weight:700;text-decoration:none;border:none;cursor:pointer}
        .pw-fallback .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.03);color:var(--muted);padding:8px 10px}
        @media(max-width:720px){.pw-fallback{flex-direction:column;align-items:flex-start;gap:8px;left:12px;right:12px}.pw-fallback .left{max-width:100%}.pw-fallback .actions{width:100%;justify-content:space-between}}
      `;
      document.head.appendChild(css);
    }
    document.body.insertBefore(el, document.body.firstChild);
    return el;
  }

  // probe with timeout, return boolean
  function probe(url, timeout = TIMEOUT_MS) {
    return new Promise((resolve) => {
      let done = false;
      const timer = setTimeout(() => {
        if (!done) { done = true; resolve(false); }
      }, timeout);
      fetch(url, { method:'GET', mode:'cors' }).then(r => {
        if (done) return;
        done = true; clearTimeout(timer);
        resolve(!!(r && r.ok));
      }).catch(() => { if (!done) { done = true; clearTimeout(timer); resolve(false); } });
    });
  }

  onReady(async function(){
    try {
      // don't run on Vercel domain
      const host = location.hostname;
      if (host === 'pumpwolf.vercel.app' || host.endsWith('.vercel.app')) return;

      const banner = ensureBanner();
      // small delay to let other scripts run first
      await new Promise(r => setTimeout(r, 120));

      const ok = await probe(VERCEL_PROBE, TIMEOUT_MS);
      if (ok) {
        // reachable -> make sure banner hidden
        banner.style.display = 'none';
        return;
      }

      // not reachable -> show banner and start countdown
      banner.style.display = 'flex';
      const stayBtn = document.getElementById('stayBtn');
      const countdownEl = document.getElementById('redirectCountdown');
      let count = COUNTDOWN_SEC;

      countdownEl && (countdownEl.textContent = `‚Ü™ otomatis pindah dalam ${count}s`);
      const t = setInterval(() => {
        count--;
        if (countdownEl) countdownEl.textContent = `‚Ü™ otomatis pindah dalam ${count}s`;
        if (count <= 0) {
  clearInterval(t);
  console.log('[PW] Redirecting to Vercel full version...');
  // gunakan window.open supaya GitHub Pages tidak blok
  try {
    window.open(REDIRECT_URL, '_blank', 'noopener');
  } catch(e) {
    console.error('Redirect failed, manual fallback', e);
    // fallback: tampilkan link aktif
    const openBtn = document.getElementById('openVercel');
    if (openBtn) {
      openBtn.style.outline = '2px solid var(--neon)';
      openBtn.style.boxShadow = '0 0 12px rgba(0,240,255,0.4)';
      openBtn.textContent = 'Klik di sini untuk lanjut ke versi penuh';
    }
  }
        }

      stayBtn && stayBtn.addEventListener('click', () => {
        clearInterval(t);
        if (countdownEl) countdownEl.textContent = 'Redirect dibatalkan ‚Äî tetap di halaman ini';
        stayBtn.disabled = true;
        stayBtn.textContent = 'Menetap';
      });

    } catch (err) {
      console.error('PW fallback error', err);
    }
  });

})();
</script>      

</script>
</body>
</html>
